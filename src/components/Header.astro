---
const currentPath = Astro.url.pathname;
const navItems = [
  { href: '/', label: 'Accueil' },
  { href: '/modules', label: 'Modules' },
  { href: '/pedagogie', label: 'Pédagogie' },
  { href: '/a-propos', label: 'À propos' },
  { href: '/contact', label: 'Contact' },
];
---

<header class="bg-warm-50 border-b border-warm-200">
  <nav class="container mx-auto px-4 py-4" aria-label="Navigation principale">
    <div class="flex flex-col md:flex-row md:items-center md:justify-between gap-4">
      <a
        href="/"
        class="text-2xl font-bold text-warm-800 hover:text-terracotta-600 focus:outline-none focus:ring-2 focus:ring-terracotta-500 focus:ring-offset-2 rounded transition-colors"
        aria-label="CDMC - Retour à l'accueil"
      >
        CDMC
      </a>
      <ul class="flex flex-wrap gap-4 md:gap-6" role="list">
        {navItems.map((item) => {
          const isActive = currentPath === item.href || 
            (item.href !== '/' && currentPath.startsWith(item.href));
          return (
            <li>
              <a
                href={item.href}
                class={`px-2 py-1 rounded transition-colors focus:outline-none focus:ring-2 focus:ring-terracotta-500 focus:ring-offset-2 ${
                  isActive
                    ? 'text-terracotta-700 font-semibold underline decoration-2 underline-offset-4'
                    : 'text-warm-700 hover:text-terracotta-600'
                }`}
                aria-current={isActive ? 'page' : undefined}
              >
                {item.label}
              </a>
            </li>
          );
        })}
      </ul>
    </div>
  </nav>
</header>

