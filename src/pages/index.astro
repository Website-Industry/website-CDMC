---
import BaseLayout from '../layouts/BaseLayout.astro';
import Section from '../components/Section.astro';
import ModuleCard from '../components/ModuleCard.astro';
import CTA from '../components/CTA.astro';
import { modules } from '../data/modules';
import { pricingTiers, pricingInfo, paymentOptions } from '../data/pricing';
---

<BaseLayout
  title="Apprendre la musique autrement à Toulouse | CDMC"
  description="Cours de musique chill, bienveillants et décomplexés à Toulouse. Théorie, piano, MAO, rythmique. Pour débutant·es et intermédiaires qui veulent comprendre la musique sans pression."
>
  <!-- Hero Section -->
  <Section id="hero" className="bg-gradient-to-b from-warm-100 to-warm-50">
    <div class="text-center max-w-3xl mx-auto">
      <h1 class="text-4xl md:text-5xl lg:text-6xl font-bold text-warm-800 mb-6">
        Apprendre la musique autrement
      </h1>
      <p class="text-xl md:text-2xl text-warm-700 mb-4">
        CDMC – Comprendre, ressentir, créer
      </p>
      <p class="text-lg text-warm-600 mb-8 max-w-2xl mx-auto">
        Des cours de musique mensuels à Toulouse, dans une ambiance chill et bienveillante. 
        Pour celles et ceux qui veulent progresser sans pression, comprendre plutôt que réciter, 
        et se faire plaisir en apprenant.
      </p>
      <CTA href="/contact" text="Je veux en savoir plus" />
    </div>
  </Section>

  <!-- Concept CDMC -->
  <Section id="concept" title="Le concept CDMC">
    <div class="max-w-3xl mx-auto">
      <p class="text-lg text-warm-700 mb-4">
        CDMC, c'est un ensemble de <strong>cours de musique mensuels</strong> à Toulouse, 
        dans une ambiance décontractée mais avec une vraie exigence pédagogique.
      </p>
      <p class="text-lg text-warm-700 mb-4">
        On apprend mieux quand on respire. Ici, pas de pression, pas de jugement, 
        juste l'envie de comprendre la musique pour se faire plaisir et progresser.
      </p>
      <p class="text-lg text-warm-700 mb-6">
        L'ADN CDMC : <strong>apprendre la musique autrement</strong>. 
        On discute, on papote, on expérimente, on comprend. 
        Une pédagogie moderne, ancrée dans la pratique, où le solfège devient un outil 
        plutôt qu'une barrière.
      </p>
      <div class="bg-warm-100 rounded-lg p-6 border-l-4 border-terracotta-500">
        <p class="text-warm-800 font-medium italic">
          "Des cours sans pression, chill, où on papote et on apprend de manière 
          plus efficace que dans un cadre scolaire."
        </p>
      </div>
    </div>
  </Section>

  <!-- Modules -->
  <Section id="modules" title="Les modules" className="bg-warm-50">
    <p class="text-lg text-warm-700 mb-8 max-w-3xl mx-auto text-center">
      Cinq modules pour explorer la musique sous différents angles. 
      Choisis celui ou ceux qui te correspondent, ou combine-les pour une approche complète.
    </p>
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8">
      {modules.map((module) => (
        <ModuleCard module={module} />
      ))}
    </div>
    <div class="text-center">
      <CTA href="/modules" text="Découvrir tous les modules" variant="secondary" />
    </div>
  </Section>

  <!-- Planning & Fonctionnement -->
  <Section id="planning" title="Planning & fonctionnement">
    <div class="max-w-3xl mx-auto space-y-6">
      <div>
        <h3 class="text-2xl font-semibold text-warm-800 mb-4">
          Rythme et durée
        </h3>
        <ul class="space-y-2 text-warm-700">
          <li class="flex items-start">
            <span class="text-terracotta-600 mr-2">•</span>
            <span><strong>Une séance par mois</strong>, de <strong>2h30</strong></span>
          </li>
          <li class="flex items-start">
            <span class="text-terracotta-600 mr-2">•</span>
            <span>Cycle de <strong>6 mois</strong> (janvier à juin 2026)</span>
          </li>
          <li class="flex items-start">
            <span class="text-terracotta-600 mr-2">•</span>
            <span>Entre <strong>4 et 9 participant·es</strong> par module pour une ambiance intime</span>
          </li>
        </ul>
      </div>

      <div>
        <h3 class="text-2xl font-semibold text-warm-800 mb-4">
          Organisation mensuelle
        </h3>
        <p class="text-warm-700 mb-4">
          Les séances ont lieu dans <strong>les deux dernières semaines de chaque mois</strong> :
        </p>
        <div class="bg-warm-100 rounded-lg p-6 space-y-4">
          <div>
            <h4 class="font-semibold text-warm-800 mb-2">Semaine 3 :</h4>
            <ul class="space-y-1 text-warm-700 ml-4">
              <li>• Mardi : Théorie Débutant</li>
              <li>• Mercredi : Théorie Intermédiaire</li>
              <li>• Jeudi : MAO</li>
            </ul>
          </div>
          <div>
            <h4 class="font-semibold text-warm-800 mb-2">Semaine 4 :</h4>
            <ul class="space-y-1 text-warm-700 ml-4">
              <li>• Mardi : Piano</li>
              <li>• Jeudi : Rythmique</li>
            </ul>
          </div>
        </div>
      </div>

      <div>
        <h3 class="text-2xl font-semibold text-warm-800 mb-4">
          Lieu
        </h3>
        <p class="text-warm-700">
          Les cours se déroulent dans un <strong>grand salon aménagé</strong>, 
          à Toulouse, conçu pour accueillir confortablement 4 à 9 personnes.
        </p>
      </div>
    </div>
  </Section>

  <!-- Tarifs -->
  <Section id="tarifs" title="Tarifs & engagement" className="bg-warm-50">
    <div class="max-w-3xl mx-auto">
      <p class="text-lg text-warm-700 mb-6">
        Les tarifs sont dégressifs selon le nombre de modules choisis. 
        <strong>Engagement sur 6 mois</strong> (janvier à juin 2026) pour garantir 
        la cohésion du groupe et une progression régulière.
      </p>
      
      <div class="overflow-x-auto mb-8">
        <table class="w-full border-collapse bg-white rounded-lg shadow-md">
          <thead>
            <tr class="bg-warm-200">
              <th class="border border-warm-300 px-4 py-3 text-left font-semibold text-warm-800">
                Nombre de modules
              </th>
              <th class="border border-warm-300 px-4 py-3 text-left font-semibold text-warm-800">
                Tarif cycle complet (6 mois)
              </th>
            </tr>
          </thead>
          <tbody>
            {pricingTiers.map((tier) => (
              <tr class="hover:bg-warm-50">
                <td class="border border-warm-300 px-4 py-3 text-warm-700">
                  {tier.modules} module{tier.modules > 1 ? 's' : ''}
                </td>
                <td class="border border-warm-300 px-4 py-3 text-warm-700 font-semibold text-lg">
                  {tier.cyclePrice} €
                </td>
              </tr>
            ))}
          </tbody>
        </table>
      </div>

      <div class="mb-6">
        <h3 class="text-2xl font-semibold text-warm-800 mb-4">
          Modalités de paiement
        </h3>
        <p class="text-warm-700 mb-4">
          Pour créer de l'engagement et garantir ta place dans le groupe, 
          plusieurs modalités de paiement sont proposées :
        </p>
        <div class="space-y-4">
          {paymentOptions.map((option) => {
            const exampleAmounts = option.getAmount(150); // Exemple avec 1 module
            const amountsDisplay = exampleAmounts.map(amt => `${amt} €`).join(' + ');
            return (
              <div class="bg-white rounded-lg p-6 border border-warm-200 shadow-sm">
                <h4 class="font-semibold text-warm-800 mb-2">
                  {option.label}
                </h4>
                <p class="text-warm-700 text-sm mb-3">
                  {option.description}
                </p>
                <p class="text-warm-600 text-sm italic">
                  Exemple pour 1 module ({pricingTiers[0].cyclePrice} €) : <strong>{amountsDisplay}</strong>
                </p>
              </div>
            );
          })}
        </div>
      </div>

      <div class="bg-warm-100 rounded-lg p-6">
        <p class="text-warm-800 mb-2">
          <strong>Engagement sur 6 mois</strong> – Paiement selon la modalité choisie
        </p>
        <p class="text-warm-700 text-sm">
          Chaque séance dure 2h30. Les tarifs incluent l'accès au matériel pédagogique 
          et aux ressources partagées. Le paiement garantit ta place dans le groupe 
          et permet une progression continue sur tout le cycle.
        </p>
      </div>
    </div>
  </Section>

  <!-- Esprit & Pédagogie -->
  <Section id="pedagogie" title="Esprit & pédagogie">
    <div class="max-w-3xl mx-auto">
      <p class="text-lg text-warm-700 mb-6">
        Chez CDMC, on croit que <strong>comprendre la musique</strong> passe par 
        la discussion, l'écoute, l'expérimentation, et surtout par le plaisir. 
        Pas de récitation par cœur, pas de pression, juste une envie de progresser 
        dans une ambiance bienveillante.
      </p>
      <div class="space-y-4 mb-8">
        <div class="bg-warm-100 rounded-lg p-6">
          <h3 class="text-xl font-semibold text-warm-800 mb-2">
            Apprendre sans pression, progresser vraiment
          </h3>
          <p class="text-warm-700">
            On apprend mieux quand on respire. Ici, pas de stress, pas de jugement, 
            juste l'envie de comprendre et de progresser à ton rythme.
          </p>
        </div>
        <div class="bg-warm-100 rounded-lg p-6">
          <h3 class="text-xl font-semibold text-warm-800 mb-2">
            Comprendre la musique (et pas juste réciter des règles)
          </h3>
          <p class="text-warm-700">
            Le solfège devient un outil, pas une barrière. On utilise la théorie 
            pour comprendre ce qu'on joue et ce qu'on écoute, de manière pratique et sensorielle.
          </p>
        </div>
        <div class="bg-warm-100 rounded-lg p-6">
          <h3 class="text-xl font-semibold text-warm-800 mb-2">
            Une pédagogie humaine, qui s'adapte au groupe
          </h3>
          <p class="text-warm-700">
            Chaque groupe est différent. La pédagogie s'adapte aux personnes présentes, 
            à leurs questions, à leurs envies. On papote, on expérimente, on apprend ensemble.
          </p>
        </div>
      </div>
      <div class="text-center">
        <CTA href="/pedagogie" text="En savoir plus sur ma pédagogie" variant="secondary" />
      </div>
    </div>
  </Section>

  <!-- À propos (résumé) -->
  <Section id="a-propos" title="À propos" className="bg-warm-50">
    <div class="max-w-3xl mx-auto">
      <p class="text-lg text-warm-700 mb-4">
        CDMC, c'est mon projet de proposer une alternative aux cours de musique traditionnels. 
        Une approche où la compréhension prime sur la performance, où le plaisir d'apprendre 
        est au centre, et où chacun·e peut progresser à son rythme.
      </p>
      <p class="text-lg text-warm-700 mb-6">
        Mon envie : transmettre ma passion pour la musique de manière accessible, 
        décomplexée, et efficace. Parce qu'apprendre la musique autrement, c'est possible.
      </p>
      <div class="text-center">
        <CTA href="/a-propos" text="En savoir plus sur moi" variant="secondary" />
      </div>
    </div>
  </Section>

  <!-- FAQ courte -->
  <Section id="faq" title="Questions fréquentes">
    <div class="max-w-3xl mx-auto space-y-6">
      <details class="bg-warm-100 rounded-lg p-6">
        <summary class="font-semibold text-warm-800 cursor-pointer mb-2">
          Faut-il avoir des prérequis pour s'inscrire ?
        </summary>
        <p class="text-warm-700 mt-2">
          Non ! Les modules sont conçus pour accueillir des débutant·es absolu·es 
          (Théorie Débutant, Piano, Rythmique) ou des personnes qui ont déjà quelques bases 
          (Théorie Intermédiaire, MAO). Chaque module précise son niveau requis.
        </p>
      </details>
      <details class="bg-warm-100 rounded-lg p-6">
        <summary class="font-semibold text-warm-800 cursor-pointer mb-2">
          Puis-je essayer un module avant de m'engager ?
        </summary>
        <p class="text-warm-700 mt-2">
          L'engagement se fait sur 6 mois pour garantir la cohésion du groupe et la progression. 
          Si tu as des questions, n'hésite pas à me contacter via le formulaire pour en discuter.
        </p>
      </details>
      <details class="bg-warm-100 rounded-lg p-6">
        <summary class="font-semibold text-warm-800 cursor-pointer mb-2">
          Que se passe-t-il si je rate une séance ?
        </summary>
        <p class="text-warm-700 mt-2">
          Les séances sont mensuelles, donc chaque absence est importante. 
          On peut discuter ensemble des solutions selon ta situation.
        </p>
      </details>
      <details class="bg-warm-100 rounded-lg p-6">
        <summary class="font-semibold text-warm-800 cursor-pointer mb-2">
          Faut-il avoir son propre instrument ?
        </summary>
        <p class="text-warm-700 mt-2">
          Pour le module Piano, un clavier ou piano est nécessaire. 
          Pour les autres modules, le matériel est fourni ou on discute des options selon tes besoins.
        </p>
      </details>
    </div>
    <div class="text-center mt-8">
      <p class="text-warm-700 mb-4">
        D'autres questions ? N'hésite pas à me contacter.
      </p>
      <CTA href="/contact" text="Me contacter" />
    </div>
  </Section>

  <!-- CTA final -->
  <Section id="cta-final" className="bg-gradient-to-b from-terracotta-50 to-warm-100">
    <div class="text-center max-w-2xl mx-auto">
      <h2 class="text-3xl md:text-4xl font-bold text-warm-800 mb-4">
        Prêt·e à apprendre la musique autrement ?
      </h2>
      <p class="text-lg text-warm-700 mb-8">
        Rejoins CDMC et découvre une approche de la musique chill, bienveillante et efficace.
      </p>
      <CTA href="/contact" text="Je m'inscris ou je pose mes questions" />
    </div>
  </Section>
</BaseLayout>

